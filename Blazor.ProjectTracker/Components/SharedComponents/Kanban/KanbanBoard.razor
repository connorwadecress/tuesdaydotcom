@using System.Collections.ObjectModel
@using global::ProjectTracker.Domain.Entities
@using global::ProjectTracker.Application.Interfaces
@using MudBlazor
@inject IGroupService GroupService

<MudPaper Class="d-flex overflow-x-auto p-4 gap-4" Style="min-height: 70vh;">
    @foreach (var group in Groups)
    {
        <KanbanColumn Group="group" OnMoveIssue="MoveIssueAsync" />
    }
</MudPaper>

@code {
    [Parameter] public ObservableCollection<Group> Groups { get; set; }
    [Parameter] public EventCallback<(Issue issue, Group targetGroup)> OnIssueMoved { get; set; }

    private async Task MoveIssueAsync(Issue issue, Group newGroup)
    {
        issue.GroupID = newGroup.Id;
        await OnIssueMoved.InvokeAsync((issue, newGroup));
    }

    private async Task GetAllGroups()
    {
        
    }
}